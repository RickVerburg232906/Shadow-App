<!DOCTYPE html>

<html class="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Inschrijven LR</title>
<!-- Universal favicon and PWA meta -->
<link rel="icon" href="/assets/favicon.svg" type="image/svg+xml" />
<link rel="icon" href="/assets/favicon.svg" sizes="any">
<link rel="apple-touch-icon" href="/assets/favicon.svg">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="apple-mobile-web-app-title" content="Inschrijven LR" />
<meta name="application-name" content="Inschrijven LR" />
<meta name="theme-color" content="#163e8d" />
<script src="/assets/firebase-runtime-config.js"></script>
<script type="module" src="/src/firebase.js"></script>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<!-- Material Symbols -->
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<!-- Custom stylesheet (replaces Tailwind) -->
<link rel="stylesheet" href="style.css"/>
<script src="assets/header-date.js" defer></script>
  </head>
<body class="app light">
  <!-- App loader shown while the webapp initializes -->
  <div id="app-loader" class="app-loader" role="status" aria-live="polite">
    <div class="app-loader__inner">
      <img src="assets/logo_MC_nieuw_trans_300.gif" alt="MC" class="app-loader__logo">
      <div class="app-loader__spinner" aria-hidden="true"></div>
      <div class="app-loader__text">Bezig met ladenâ€¦</div>
    </div>
  </div>
  <!-- Navigation Header -->
  <header class="nav-header">
      <!-- Critical inline style to show loader immediately while JS initializes -->
      <div class="nav-inner">
        <button class="btn-inschrijftafel" onclick="location.href='admin-ui/password.html'"> 
          <span class="material-symbols-outlined">table_restaurant</span> 
          Inschrijftafel
        </button>
        <div class="title-container">
          <h1 class="page-title">Voorwaarden</h1>
          <span class="header-date" aria-hidden="true"></span>
        </div>
        <img class="header-logo" src="assets/logo_MC_nieuw_trans_300.gif" alt="MC logo">
      </div>
  </header>
  <main class="main-content">

    <!-- Geplande ritten (data wordt door JS geladen in .planned-rides) -->
    <section class="planned-list">
        <h3 id="planned-title" class="section-title">Geplande Ritten</h3>
        <div class="planned-rides"></div>
    </section>

    <div class="terms-card">
      <div class="terms-card__body">
        <article class="terms-card__card">
          <div class="terms-card__accent"></div>
          <div class="terms-card__content">
            <div class="terms-card__row">
              <span class="terms-icon material-symbols-outlined">gavel</span>
              <h4 class="terms-card__heading">Veiligheid &amp; Privacy</h4>
            </div>
            <p class="terms-card__text">
              Door deel te nemen aan dit evenement bevestigt u dat u beschikt over een geldig rijbewijs. U gaat akkoord met het delen van foto's gemaakt tijdens de dag.
            </p>

            <div class="terms-card__warning">
              <span class="terms-icon material-symbols-outlined">warning</span>
              <span class="terms-card__warning-text">Deelname is volledig op eigen risico.</span>
            </div>

          </div>
        </article>
      </div>
    </div>
  </main>
  <!-- Footer (semantic, controlled by CSS) -->
    <footer class="app-footer" role="contentinfo">
    <div class="app-footer__inner">
      <button class="app-footer__button" id="agree-index" onclick="location.href='lid-ui/signupPage.html'">Ja, ik ga akkoord</button>
    </div>
  </footer>
  <script type="module" src="src/member.js"></script>
  <script>
    (function(){
      const loader = document.getElementById('app-loader');
      function hideLoader(){
        if(!loader) return;
        loader.style.opacity = '0';
        loader.style.pointerEvents = 'none';
        setTimeout(()=>{ try{ loader.remove(); }catch(e){} }, 320);
      }
      // Expose a hook so app code can hide the loader when initialization finishes
      window.appReady = hideLoader;
      // Fallback: hide shortly after DOMContentLoaded to avoid indefinite blocking
      document.addEventListener('DOMContentLoaded', ()=>{
        setTimeout(hideLoader, 420);
      });
    })();

    // Dump sessionStorage on every page load for debugging
    (function dumpSessionOnLoad(){
      try{
        function snapshot(){
          const out = {};
          for(let i=0;i<sessionStorage.length;i++){
            const k = sessionStorage.key(i);
            try{ out[k] = JSON.parse(sessionStorage.getItem(k)); }catch(_){ out[k] = sessionStorage.getItem(k); }
          }
          return out;
        }
        if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', ()=> { try { snapshot(); } catch(_){} });
        else try { snapshot(); } catch(_){ }
      }catch(e){ console.warn('dumpSessionOnLoad failed', e); }
    })();
  </script>
</body>
</html>
